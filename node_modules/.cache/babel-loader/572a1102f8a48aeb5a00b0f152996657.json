{"ast":null,"code":"var _jsxFileName = \"D:\\\\aastproject\\\\Maimoji\\\\src\\\\ChatHistory.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './UserProfile.css';\nimport Button from '@material-ui/core/Button'; // import logo from './logo.png';\n\nimport VideoInput from './views/VideoInput'; // import ScriptTag from 'react-script-tag';\n// import faceapii from './faceapii';\n// import * as faceapi from 'face-api.js';\n\nclass ChatHistory extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault();\n      console.log(this.state);\n      axios.post('https://maimoji.herokuapp.com/api/message', this.state).then(response => {\n        var mgahd = response.data.boolean; //  var loops = response.data.loop;\n\n        console.log(response.data);\n\n        if (mgahd === \"True\") {\n          var whats = response.data.whatsapp;\n          window.location.replace(whats); // console.log(response.data)\n          //   window.location.replace(\"http://localhost:3000/chathistory\")\n        } else {\n          alert(\"Error\");\n          console.log(mgahd);\n        } //document.getElementById(\"Demo\").innerHTML = mgahd;\n\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    var neutral = document.getElementById(\"happy\"); //sessionStorage.getItem(\"neutral\");\n\n    var happy = document.getElementById(\"neutral\"); //sessionStorage.getItem(\"happy\");\n\n    var sad = document.getElementById(\"sad\"); //sessionStorage.getItem(\"sad\");\n\n    var sender = sessionStorage.getItem(\"id\");\n    var reciver = JSON.parse(window.localStorage.getItem(\"rec\")); // Retrieving\n\n    this.state = {\n      sad: sad,\n      happy: happy,\n      neutral: neutral,\n      sender: sender,\n      reciver: reciver // mgahd: 'False'\n\n    };\n  }\n\n  render() {\n    // require(\"script\")\n    var messages = JSON.parse(window.localStorage.getItem(\"messages\")); // Retrieving\n    // var id = sessionStorage.getItem(\"id\");\n\n    var loops = JSON.parse(window.localStorage.getItem(\"loops\")); // Retrieving\n\n    var dates = JSON.parse(window.localStorage.getItem(\"dates\")); // Retrieving\n\n    var senders = JSON.parse(window.localStorage.getItem(\"senders\")); // Retrieving\n\n    var recivers = JSON.parse(window.localStorage.getItem(\"recivers\")); // Retrieving\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////////////////////\n    // const items = []\n    // for (const [index, value] of elements.entries()) {\n    //     items.push(<li key={index}>{value}</li>)\n\n    var sender1 = [];\n    var date1 = [];\n    var reciever1 = [];\n    var message1 = [];\n\n    for (var i = 0; i < loops; i++) {\n      sender1.push(senders[i]);\n      date1.push(dates[i]);\n      reciever1.push(recivers[i]);\n      message1.push(messages[i]);\n    }\n\n    const {\n      sender,\n      reciver,\n      neutral,\n      happy,\n      sad\n    } = this.state; // console.log(\"hapy \" + happy);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"about-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(VideoInput, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"h1\", {\n      class: \"dark-color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, \"Chat History\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row about-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 29\n      }\n    }, dates.map((value, index) => {\n      // var neutral = sessionStorage.getItem(\"neutral\")\n      // var happy = sessionStorage.getItem(\"happy\")\n      // var sad = sessionStorage.getItem(\"sad\")\n      // console.log(\"happyyy \" + happy)\n      // console.log(\"sad \" + sad)\n      // console.log(\"neutral \" + neutral)\n      var z = value;\n      console.log(z); // return <option value={z}>{Arr[index]}</option>\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card text-white bg-info mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 44\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 41\n        }\n      }, date1[index]), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        class: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 45\n        }\n      }, \"Sender: \", sender1[index]), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 45\n        }\n      }, sessionStorage.getItem(\"neutral\")), /*#__PURE__*/React.createElement(\"p\", {\n        class: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 45\n        }\n      }, message1[index])));\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      class: \"Right\",\n      onSubmit: this.submitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"neutral5\",\n      type: \"hidden\",\n      value: neutral,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"happy5\",\n      type: \"hidden\",\n      value: happy,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"sad5\",\n      type: \"hidden\",\n      value: sad,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"sender5\",\n      type: \"hidden\",\n      value: sender,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"reciver5\",\n      type: \"hidden\",\n      value: reciver,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"fixed-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"emo\",\n      name: \"msg\",\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Recipient's username\",\n      \"aria-label\": \"Recipient's username\",\n      \"aria-describedby\": \"button-addon2\",\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      class: \"btn btn-outline-secondary\",\n      type: \"submit\",\n      id: \"button-addon2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 49\n      }\n    }, \"Send\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 37\n      }\n    })))))));\n  }\n\n}\n\nexport default ChatHistory;","map":{"version":3,"sources":["D:/aastproject/Maimoji/src/ChatHistory.js"],"names":["React","Component","axios","Button","VideoInput","ChatHistory","constructor","props","changeHandler","e","setState","target","name","value","submitHandler","preventDefault","console","log","state","post","then","response","mgahd","data","boolean","whats","whatsapp","window","location","replace","alert","catch","error","neutral","document","getElementById","happy","sad","sender","sessionStorage","getItem","reciver","JSON","parse","localStorage","render","messages","loops","dates","senders","recivers","sender1","date1","reciever1","message1","i","push","map","index","z"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './UserProfile.css';\r\nimport Button from '@material-ui/core/Button';\r\n// import logo from './logo.png';\r\nimport VideoInput from './views/VideoInput'\r\n// import ScriptTag from 'react-script-tag';\r\n// import faceapii from './faceapii';\r\n// import * as faceapi from 'face-api.js';\r\n\r\n\r\n\r\n\r\n\r\nclass ChatHistory extends (Component) {\r\n\r\n\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        var neutral = document.getElementById(\"happy\");//sessionStorage.getItem(\"neutral\");\r\n        var happy = document.getElementById(\"neutral\");//sessionStorage.getItem(\"happy\");\r\n        var sad = document.getElementById(\"sad\");//sessionStorage.getItem(\"sad\");\r\n        var sender = sessionStorage.getItem(\"id\");\r\n        var reciver = JSON.parse(window.localStorage.getItem(\"rec\")); // Retrieving\r\n\r\n        this.state = {\r\n\r\n            sad: sad,\r\n            happy: happy,\r\n            neutral: neutral,\r\n            sender: sender,\r\n            reciver: reciver\r\n            // mgahd: 'False'\r\n        }\r\n    }\r\n\r\n    changeHandler = e => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    submitHandler = e => {\r\n        e.preventDefault()\r\n        console.log(this.state)\r\n        axios\r\n            .post('https://maimoji.herokuapp.com/api/message', this.state)\r\n            .then(response => {\r\n\r\n                var mgahd = response.data.boolean;\r\n                //  var loops = response.data.loop;\r\n                console.log(response.data)\r\n\r\n                if (mgahd === \"True\") {\r\n                    var whats = response.data.whatsapp\r\n                    window.location.replace(whats)\r\n\r\n\r\n                    // console.log(response.data)\r\n\r\n\r\n\r\n                    //   window.location.replace(\"http://localhost:3000/chathistory\")\r\n\r\n                } else {\r\n                    alert(\"Error\");\r\n                    console.log(mgahd)\r\n                }\r\n                //document.getElementById(\"Demo\").innerHTML = mgahd;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n\r\n        // require(\"script\")\r\n        var messages = JSON.parse(window.localStorage.getItem(\"messages\")); // Retrieving\r\n        // var id = sessionStorage.getItem(\"id\");\r\n        var loops = JSON.parse(window.localStorage.getItem(\"loops\")); // Retrieving\r\n        var dates = JSON.parse(window.localStorage.getItem(\"dates\")); // Retrieving\r\n        var senders = JSON.parse(window.localStorage.getItem(\"senders\")); // Retrieving\r\n        var recivers = JSON.parse(window.localStorage.getItem(\"recivers\")); // Retrieving\r\n\r\n        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n        //////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n        // const items = []\r\n\r\n        // for (const [index, value] of elements.entries()) {\r\n        //     items.push(<li key={index}>{value}</li>)\r\n\r\n        var sender1 = [];\r\n        var date1 = [];\r\n        var reciever1 = [];\r\n        var message1 = [];\r\n        for (var i = 0; i < loops; i++) {\r\n            sender1.push(senders[i])\r\n            date1.push(dates[i])\r\n            reciever1.push(recivers[i])\r\n            message1.push(messages[i])\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n        const { sender, reciver, neutral, happy, sad } = this.state\r\n\r\n        // console.log(\"hapy \" + happy);\r\n\r\n        return (\r\n\r\n\r\n            <div>\r\n\r\n\r\n\r\n                {/* <div class=\"card text-center\">\r\n                    <div class=\"card-header\">\r\n                        <ul class=\"nav nav-pills card-header-pills\">\r\n                            <li class=\"nav-item\">\r\n                                <a class=\"nav-link\" href=\"/UserProfile\" variant=\"body2\">UserProfile</a>\r\n                            </li>\r\n                            <li class=\"nav-item\">\r\n                                <a class=\"nav-link active\" href=\"/Contacts\" variant=\"body2\">Contacts</a>\r\n\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div> */}\r\n\r\n                {/* <div>\r\n                    {items}\r\n                </div> */}\r\n\r\n                <div>\r\n\r\n                    <div class=\"col-lg-6\">\r\n                        <div class=\"about-avatar\">\r\n                            <VideoInput></VideoInput>\r\n                        </div>\r\n                    </div>\r\n                    <h1 class=\"dark-color\">Chat History</h1>\r\n                    <h2>\r\n\r\n                        <div class=\"row about-list\">\r\n                            <div class=\"col-md-6\">\r\n\r\n                                {/* <input name=\"sender\" type=\"hidden\" value={sen} onChange={this.changeHandler}></input> */}\r\n                                {dates.map((value, index) => {\r\n                                  // var neutral = sessionStorage.getItem(\"neutral\")\r\n                                  // var happy = sessionStorage.getItem(\"happy\")\r\n                                  // var sad = sessionStorage.getItem(\"sad\")\r\n                                  // console.log(\"happyyy \" + happy)\r\n                                  // console.log(\"sad \" + sad)\r\n                                  // console.log(\"neutral \" + neutral)\r\n                                    var z = value;\r\n                                    console.log(z)\r\n                                    // return <option value={z}>{Arr[index]}</option>\r\n\r\n\r\n                                    return <div class=\"card text-white bg-info mb-3\" >\r\n                                        <div class=\"card-header\">{date1[index]}</div>\r\n                                        <div class=\"card-body\">\r\n                                            <h1 class=\"card-title\">Sender: {sender1[index]}</h1>\r\n                                            <p>{ sessionStorage.getItem(\"neutral\")}</p>\r\n                                            <p class=\"card-text\">{message1[index]}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                })}\r\n\r\n                                <form class=\"Right\" onSubmit={this.submitHandler}>\r\n\r\n                                    {/* <video id=\"video\" width=\"720\" height=\"560\" autoPlay muted></video> */}\r\n                                    {/* <ScriptTag  src=\"faceapii.js\" />\r\n                                    <ScriptTag src=\"script.js\" /> */}\r\n                                    <input name=\"neutral5\" type=\"hidden\" value={neutral} onChange={this.changeHandler}></input>\r\n                                    <input name=\"happy5\" type=\"hidden\" value={happy} onChange={this.changeHandler}></input>\r\n                                    <input name=\"sad5\" type=\"hidden\" value={sad} onChange={this.changeHandler}></input>\r\n                                    <input name=\"sender5\" type=\"hidden\" value={sender} onChange={this.changeHandler}></input>\r\n                                    <input name=\"reciver5\" type=\"hidden\" value={reciver} onChange={this.changeHandler}></input>\r\n                                    <div class=\"fixed-bottom\">\r\n                                        <div class=\"input-group mb-3\">\r\n\r\n                                            <input id=\"emo\" name=\"msg\" type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" onChange={this.changeHandler}></input>\r\n                                            <div class=\"input-group-append\">\r\n                                                <Button class=\"btn btn-outline-secondary\" type=\"submit\" id=\"button-addon2\">Send</Button>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <br></br>\r\n\r\n                                </form>\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </h2>\r\n\r\n\r\n\r\n                </div >\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default ChatHistory\r\n"]},"metadata":{},"sourceType":"module"}