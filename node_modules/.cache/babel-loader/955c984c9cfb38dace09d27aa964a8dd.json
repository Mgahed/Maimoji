{"ast":null,"code":"var _jsxFileName = \"D:\\\\aastproject\\\\Maimoji\\\\src\\\\ChatHistory.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './UserProfile.css';\nimport Button from '@material-ui/core/Button'; // import logo from './logo.png';\n// import VideoInput from './views/VideoInput';\n// import ScriptTag from 'react-script-tag';\n// import faceapii from './faceapii';\n// import * as faceapi from 'face-api.js';\n\nimport { withRouter } from 'react-router-dom';\nimport Webcam from 'react-webcam';\nimport { loadModels, getFullFaceDescription, createMatcher } from './api/face';\n\nconst JSON_PROFILE = require('./descriptors/bnk48.json');\n\nconst WIDTH = 500;\nconst HEIGHT = 500;\nconst inputSize = 160;\n\nclass ChatHistory extends Component {\n  constructor(props) {\n    super(props); // var neutral = sessionStorage.getItem(\"neutral\")\n    // var happy = sessionStorage.getItem(\"happy1\")\n    // var sad = sessionStorage.getItem(\"sad\")\n\n    this.componentWillMount = async () => {\n      await loadModels();\n      this.setState({\n        faceMatcher: await createMatcher(JSON_PROFILE)\n      });\n      this.setInputDevice();\n    };\n\n    this.setInputDevice = () => {\n      navigator.mediaDevices.enumerateDevices().then(async devices => {\n        let inputDevice = await devices.filter(device => device.kind === 'videoinput');\n\n        if (inputDevice.length < 2) {\n          await this.setState({\n            facingMode: 'user'\n          });\n        } else {\n          await this.setState({\n            facingMode: {\n              exact: 'environment'\n            }\n          });\n        }\n\n        this.startCapture();\n      });\n    };\n\n    this.startCapture = () => {\n      this.interval = setInterval(() => {\n        this.capture();\n      }, 1500);\n    };\n\n    this.capture = async () => {\n      if (!!this.webcam.current) {\n        await getFullFaceDescription(this.webcam.current.getScreenshot(), inputSize).then(fullDesc => {\n          if (!!fullDesc) {\n            this.setState({\n              detections: fullDesc.map(fd => fd.detection),\n              descriptors: fullDesc.map(fd => fd.descriptor)\n            });\n          }\n        }); // if (!!this.state.descriptors && !!this.state.faceMatcher) {\n        //   let match = await this.state.descriptors.map(descriptor =>\n        //     this.state.faceMatcher.findBestMatch(descriptor)\n        //   );\n        //   this.setState({ match });\n        // }\n      }\n    };\n\n    this.changeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitHandler = e => {\n      // e.preventDefault()\n      // console.log(this.state)\n      axios.post('https://maimoji.herokuapp.com/api/message', this.state).then(response => {\n        var mgahd = response.data.boolean; //  var loops = response.data.loop;\n\n        console.log(\"///////////////\");\n        console.log(response.data);\n\n        if (mgahd === \"True\") {\n          var whats = response.data.whatsapp;\n          window.location.replace(whats); // console.log(response.data)\n          //   window.location.replace(\"http://localhost:3000/chathistory\")\n        } else {\n          alert(\"Error\");\n          console.log(mgahd);\n        } //document.getElementById(\"Demo\").innerHTML = mgahd;\n\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    var sender = sessionStorage.getItem(\"id\");\n    var reciver = JSON.parse(window.localStorage.getItem(\"rec\")); // Retrieving\n\n    this.webcam = React.createRef();\n    this.state = {\n      fullDesc: null,\n      detections: null,\n      descriptors: null,\n      faceMatcher: null,\n      match: null,\n      facingMode: null,\n      // sad: sad,\n      // happy: happy,\n      // neutral: neutral,\n      sender: sender,\n      reciver: reciver // mgahd: 'False'\n\n    };\n  } ///////////video//\n\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    var happy = sessionStorage.getItem(\"happy\");\n    var neutral = sessionStorage.getItem(\"neutral\");\n    var sad = sessionStorage.getItem(\"sad\");\n    console.log(\"This is happy = \" + happy);\n    const {\n      detections,\n      match,\n      facingMode\n    } = this.state;\n    let videoConstraints = null; // let camera = '';\n\n    if (!!facingMode) {\n      videoConstraints = {\n        width: WIDTH,\n        height: HEIGHT,\n        facingMode: facingMode\n      };\n\n      if (facingMode === 'user') {// camera = 'Front';\n      } else {// camera = 'Back';\n        }\n    }\n\n    let drawBox = null;\n\n    if (!!detections) {\n      drawBox = detections.map((detection, i) => {\n        let _H = detection.box.height;\n        let _W = detection.box.width;\n        let _X = detection.box._x;\n        let _Y = detection.box._y;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            position: 'absolute',\n            border: 'solid',\n            borderColor: 'blue',\n            height: _H,\n            width: _W,\n            transform: `translate(${_X}px,${_Y}px)`\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }\n        }, !!match && !!match[i] ? /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            backgroundColor: 'blue',\n            border: 'solid',\n            borderColor: 'blue',\n            width: _W,\n            marginTop: 0,\n            color: '#fff',\n            transform: `translate(-3px,${_H}px)`\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 19\n          }\n        }, match[i]._label) : null));\n      });\n    } // require(\"script\")\n\n\n    var messages = JSON.parse(window.localStorage.getItem(\"messages\")); // Retrieving\n    // var id = sessionStorage.getItem(\"id\");\n\n    var loops = JSON.parse(window.localStorage.getItem(\"loops\")); // Retrieving\n\n    var dates = JSON.parse(window.localStorage.getItem(\"dates\")); // Retrieving\n\n    var senders = JSON.parse(window.localStorage.getItem(\"senders\")); // Retrieving\n\n    var recivers = JSON.parse(window.localStorage.getItem(\"recivers\")); // Retrieving\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////////////////////\n    // const items = []\n    // for (const [index, value] of elements.entries()) {\n    //     items.push(<li key={index}>{value}</li>)\n\n    var sender1 = [];\n    var date1 = [];\n    var reciever1 = [];\n    var message1 = [];\n\n    for (var i = 0; i < loops; i++) {\n      sender1.push(senders[i]);\n      date1.push(dates[i]);\n      reciever1.push(recivers[i]);\n      message1.push(messages[i]);\n    }\n\n    const {\n      sender,\n      reciver\n    } = this.state; // console.log(\"Happy: \" + happy);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"about-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 25\n      }\n    }, \"/////////////// video\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Camera\",\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 31\n      }\n    }, \" Expression will be dedected when blue border show up\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: WIDTH,\n        height: HEIGHT\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative',\n        width: WIDTH\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 33\n      }\n    }, !!videoConstraints ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Webcam, {\n      audio: false,\n      width: WIDTH,\n      height: HEIGHT,\n      ref: this.webcam,\n      screenshotFormat: \"image/jpeg\",\n      videoConstraints: videoConstraints,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 39\n      }\n    })) : null, !!drawBox ? drawBox : null))), \"/////////////////////\")), /*#__PURE__*/React.createElement(\"h1\", {\n      class: \"dark-color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }\n    }, \"Chat History\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row about-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 29\n      }\n    }, dates.map((value, index) => {\n      var z = value;\n      console.log(z); // return <option value={z}>{Arr[index]}</option>\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card text-white bg-info mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 44\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 41\n        }\n      }, date1[index]), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        class: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 45\n        }\n      }, \"Sender: \", sender1[index]), /*#__PURE__*/React.createElement(\"p\", {\n        class: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 45\n        }\n      }, message1[index])));\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      class: \"Right\",\n      onSubmit: this.submitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"neutral5\",\n      type: \"hidden\",\n      value: neutral,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"happy5\",\n      type: \"hidden\",\n      value: happy,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"sad5\",\n      type: \"hidden\",\n      value: sad,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"sender5\",\n      type: \"hidden\",\n      value: sender,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"reciver5\",\n      type: \"hidden\",\n      value: reciver,\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"fixed-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"msg\",\n      type: \"text\",\n      class: \"form-control\",\n      placeholder: \"Recipient's username\",\n      \"aria-label\": \"Recipient's username\",\n      \"aria-describedby\": \"button-addon2\",\n      onChange: this.changeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      class: \"btn btn-outline-secondary\",\n      type: \"submit\",\n      id: \"button-addon2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 49\n      }\n    }, \"Send\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 37\n      }\n    })))))));\n  }\n\n}\n\nexport default ChatHistory;","map":{"version":3,"sources":["D:/aastproject/Maimoji/src/ChatHistory.js"],"names":["React","Component","axios","Button","withRouter","Webcam","loadModels","getFullFaceDescription","createMatcher","JSON_PROFILE","require","WIDTH","HEIGHT","inputSize","ChatHistory","constructor","props","componentWillMount","setState","faceMatcher","setInputDevice","navigator","mediaDevices","enumerateDevices","then","devices","inputDevice","filter","device","kind","length","facingMode","exact","startCapture","interval","setInterval","capture","webcam","current","getScreenshot","fullDesc","detections","map","fd","detection","descriptors","descriptor","changeHandler","e","target","name","value","submitHandler","post","state","response","mgahd","data","boolean","console","log","whats","whatsapp","window","location","replace","alert","catch","error","sender","sessionStorage","getItem","reciver","JSON","parse","localStorage","createRef","match","componentWillUnmount","clearInterval","render","happy","neutral","sad","videoConstraints","width","height","drawBox","i","_H","box","_W","_X","_x","_Y","_y","position","border","borderColor","transform","backgroundColor","marginTop","color","_label","messages","loops","dates","senders","recivers","sender1","date1","reciever1","message1","push","display","flexDirection","alignItems","index","z"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './UserProfile.css';\r\nimport Button from '@material-ui/core/Button';\r\n// import logo from './logo.png';\r\n// import VideoInput from './views/VideoInput';\r\n// import ScriptTag from 'react-script-tag';\r\n// import faceapii from './faceapii';\r\n// import * as faceapi from 'face-api.js';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Webcam from 'react-webcam';\r\nimport { loadModels, getFullFaceDescription, createMatcher } from './api/face';\r\n\r\n\r\nconst JSON_PROFILE = require('./descriptors/bnk48.json');\r\n\r\nconst WIDTH = 500;\r\nconst HEIGHT = 500;\r\nconst inputSize = 160;\r\n\r\nclass ChatHistory extends (Component) {\r\n\r\n\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        // var neutral = sessionStorage.getItem(\"neutral\")\r\n        // var happy = sessionStorage.getItem(\"happy1\")\r\n        // var sad = sessionStorage.getItem(\"sad\")\r\n        var sender = sessionStorage.getItem(\"id\");\r\n        var reciver = JSON.parse(window.localStorage.getItem(\"rec\")); // Retrieving\r\n        this.webcam = React.createRef();\r\n        this.state = {\r\n          fullDesc: null,\r\n          detections: null,\r\n          descriptors: null,\r\n          faceMatcher: null,\r\n          match: null,\r\n          facingMode: null,\r\n            // sad: sad,\r\n            // happy: happy,\r\n            // neutral: neutral,\r\n            sender: sender,\r\n            reciver: reciver\r\n            // mgahd: 'False'\r\n        }\r\n    }\r\n///////////video//\r\n    componentWillMount = async () => {\r\n      await loadModels();\r\n      this.setState({ faceMatcher: await createMatcher(JSON_PROFILE) });\r\n      this.setInputDevice();\r\n    };\r\n    setInputDevice = () => {\r\n      navigator.mediaDevices.enumerateDevices().then(async devices => {\r\n        let inputDevice = await devices.filter(\r\n          device => device.kind === 'videoinput'\r\n        );\r\n        if (inputDevice.length < 2) {\r\n          await this.setState({\r\n            facingMode: 'user'\r\n          });\r\n        } else {\r\n          await this.setState({\r\n            facingMode: { exact: 'environment' }\r\n          });\r\n        }\r\n        this.startCapture();\r\n      });\r\n    };\r\n    startCapture = () => {\r\n      this.interval = setInterval(() => {\r\n        this.capture();\r\n      }, 1500);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n      clearInterval(this.interval);\r\n    }\r\n\r\n    capture = async () => {\r\n      if (!!this.webcam.current) {\r\n        await getFullFaceDescription(\r\n          this.webcam.current.getScreenshot(),\r\n          inputSize\r\n        ).then(fullDesc => {\r\n          if (!!fullDesc) {\r\n            this.setState({\r\n              detections: fullDesc.map(fd => fd.detection),\r\n              descriptors: fullDesc.map(fd => fd.descriptor)\r\n            });\r\n          }\r\n        });\r\n\r\n        // if (!!this.state.descriptors && !!this.state.faceMatcher) {\r\n        //   let match = await this.state.descriptors.map(descriptor =>\r\n        //     this.state.faceMatcher.findBestMatch(descriptor)\r\n        //   );\r\n        //   this.setState({ match });\r\n        // }\r\n      }\r\n    };\r\n\r\n    ///////////////////////////////////////////////\r\n\r\n    changeHandler = e => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    submitHandler = e => {\r\n        // e.preventDefault()\r\n        // console.log(this.state)\r\n        axios\r\n            .post('https://maimoji.herokuapp.com/api/message', this.state)\r\n            .then(response => {\r\n\r\n                var mgahd = response.data.boolean;\r\n                //  var loops = response.data.loop;\r\n                console.log(\"///////////////\");\r\n                console.log(response.data)\r\n\r\n                if (mgahd === \"True\") {\r\n                    var whats = response.data.whatsapp\r\n                    window.location.replace(whats)\r\n\r\n\r\n                    // console.log(response.data)\r\n\r\n\r\n\r\n                    //   window.location.replace(\"http://localhost:3000/chathistory\")\r\n\r\n                } else {\r\n                    alert(\"Error\");\r\n                    console.log(mgahd)\r\n                }\r\n                //document.getElementById(\"Demo\").innerHTML = mgahd;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n\r\n    render() {\r\n      var happy = sessionStorage.getItem(\"happy\")\r\n      var neutral = sessionStorage.getItem(\"neutral\")\r\n      var sad = sessionStorage.getItem(\"sad\")\r\n      console.log(\"This is happy = \"+happy);\r\n      const { detections, match, facingMode } = this.state;\r\n      let videoConstraints = null;\r\n      // let camera = '';\r\n      if (!!facingMode) {\r\n        videoConstraints = {\r\n          width: WIDTH,\r\n          height: HEIGHT,\r\n          facingMode: facingMode\r\n        };\r\n        if (facingMode === 'user') {\r\n          // camera = 'Front';\r\n        } else {\r\n          // camera = 'Back';\r\n        }\r\n      }\r\n\r\n      let drawBox = null;\r\n      if (!!detections) {\r\n        drawBox = detections.map((detection, i) => {\r\n          let _H = detection.box.height;\r\n          let _W = detection.box.width;\r\n          let _X = detection.box._x;\r\n          let _Y = detection.box._y;\r\n          return (\r\n            <div key={i}>\r\n              <div\r\n                style={{\r\n                  position: 'absolute',\r\n                  border: 'solid',\r\n                  borderColor: 'blue',\r\n                  height: _H,\r\n                  width: _W,\r\n                  transform: `translate(${_X}px,${_Y}px)`\r\n                }}\r\n              >\r\n                {!!match && !!match[i] ? (\r\n                  <p\r\n                    style={{\r\n                      backgroundColor: 'blue',\r\n                      border: 'solid',\r\n                      borderColor: 'blue',\r\n                      width: _W,\r\n                      marginTop: 0,\r\n                      color: '#fff',\r\n                      transform: `translate(-3px,${_H}px)`\r\n                    }}\r\n                  >\r\n                    {match[i]._label}\r\n                  </p>\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          );\r\n        });\r\n      }\r\n\r\n\r\n        // require(\"script\")\r\n        var messages = JSON.parse(window.localStorage.getItem(\"messages\")); // Retrieving\r\n        // var id = sessionStorage.getItem(\"id\");\r\n        var loops = JSON.parse(window.localStorage.getItem(\"loops\")); // Retrieving\r\n        var dates = JSON.parse(window.localStorage.getItem(\"dates\")); // Retrieving\r\n        var senders = JSON.parse(window.localStorage.getItem(\"senders\")); // Retrieving\r\n        var recivers = JSON.parse(window.localStorage.getItem(\"recivers\")); // Retrieving\r\n\r\n        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n        //////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n        // const items = []\r\n\r\n        // for (const [index, value] of elements.entries()) {\r\n        //     items.push(<li key={index}>{value}</li>)\r\n\r\n        var sender1 = [];\r\n        var date1 = [];\r\n        var reciever1 = [];\r\n        var message1 = [];\r\n        for (var i = 0; i < loops; i++) {\r\n            sender1.push(senders[i])\r\n            date1.push(dates[i])\r\n            reciever1.push(recivers[i])\r\n            message1.push(messages[i])\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n        const { sender, reciver} = this.state\r\n\r\n        // console.log(\"Happy: \" + happy);\r\n\r\n        return (\r\n\r\n\r\n            <div>\r\n\r\n\r\n\r\n                {/* <div class=\"card text-center\">\r\n                    <div class=\"card-header\">\r\n                        <ul class=\"nav nav-pills card-header-pills\">\r\n                            <li class=\"nav-item\">\r\n                                <a class=\"nav-link\" href=\"/UserProfile\" variant=\"body2\">UserProfile</a>\r\n                            </li>\r\n                            <li class=\"nav-item\">\r\n                                <a class=\"nav-link active\" href=\"/Contacts\" variant=\"body2\">Contacts</a>\r\n\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div> */}\r\n\r\n                {/* <div>\r\n                    {items}\r\n                </div> */}\r\n\r\n                <div>\r\n\r\n                    <div class=\"col-lg-6\">\r\n                        <div class=\"about-avatar\">\r\n\r\n                            /////////////// video\r\n                            <div\r\n                              className=\"Camera\"\r\n                              style={{\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                alignItems: 'center'\r\n                              }}\r\n                            >\r\n                              <p> Expression will be dedected when blue border show up</p>\r\n                              <div\r\n                                style={{\r\n                                  width: WIDTH,\r\n                                  height: HEIGHT\r\n                                }}\r\n                              >\r\n                                <div style={{ position: 'relative', width: WIDTH }}>\r\n                                  {!!videoConstraints ? (\r\n                                    <div style={{ position: 'absolute' }}>\r\n                                      <Webcam\r\n                                        audio={false}\r\n                                        width={WIDTH}\r\n                                        height={HEIGHT}\r\n                                        ref={this.webcam}\r\n                                        screenshotFormat=\"image/jpeg\"\r\n                                        videoConstraints={videoConstraints}\r\n                                      />\r\n                                    </div>\r\n                                  ) : null}\r\n                                  {!!drawBox ? drawBox : null}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            /////////////////////\r\n                        </div>\r\n                    </div>\r\n                    <h1 class=\"dark-color\">Chat History</h1>\r\n                    <h2>\r\n\r\n                        <div class=\"row about-list\">\r\n                            <div class=\"col-md-6\">\r\n\r\n                                {/* <input name=\"sender\" type=\"hidden\" value={sen} onChange={this.changeHandler}></input> */}\r\n                                {dates.map((value, index) => {\r\n                                    var z = value;\r\n                                    console.log(z)\r\n                                    // return <option value={z}>{Arr[index]}</option>\r\n\r\n\r\n                                    return <div class=\"card text-white bg-info mb-3\" >\r\n                                        <div class=\"card-header\">{date1[index]}</div>\r\n                                        <div class=\"card-body\">\r\n                                            <h1 class=\"card-title\">Sender: {sender1[index]}</h1>\r\n\r\n                                            <p class=\"card-text\">{message1[index]}</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                })}\r\n\r\n                                <form class=\"Right\" onSubmit={this.submitHandler}>\r\n\r\n                                    {/* <video id=\"video\" width=\"720\" height=\"560\" autoPlay muted></video> */}\r\n                                    {/* <ScriptTag  src=\"faceapii.js\" />\r\n                                    <ScriptTag src=\"script.js\" /> */}\r\n                                    <input name=\"neutral5\" type=\"hidden\" value={neutral} onChange={this.changeHandler}></input>\r\n                                    <input name=\"happy5\" type=\"hidden\" value={happy} onChange={this.changeHandler}></input>\r\n                                    <input name=\"sad5\" type=\"hidden\" value={sad} onChange={this.changeHandler}></input>\r\n                                    <input name=\"sender5\" type=\"hidden\" value={sender} onChange={this.changeHandler}></input>\r\n                                    <input name=\"reciver5\" type=\"hidden\" value={reciver} onChange={this.changeHandler}></input>\r\n                                    <div class=\"fixed-bottom\">\r\n                                        <div class=\"input-group mb-3\">\r\n\r\n                                            <input name=\"msg\" type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" onChange={this.changeHandler}></input>\r\n                                            <div class=\"input-group-append\">\r\n                                                <Button class=\"btn btn-outline-secondary\" type=\"submit\" id=\"button-addon2\">Send</Button>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <br></br>\r\n\r\n                                </form>\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n\r\n                    </h2>\r\n\r\n\r\n\r\n                </div >\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default ChatHistory\r\n"]},"metadata":{},"sourceType":"module"}